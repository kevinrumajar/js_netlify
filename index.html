<!DOCTYPE html>
<html âš¡ lang="id">
<head>
<meta charset="utf-8">
<meta name="google-site-verification" content="Pepv7bqNjkkFq9RB3AxSFGZpq_irenZjmgIEiAEhlZg" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link rel="canonical" href="https://kipas99-slot.netlify.app/" />
<title>Slot Dana</title>
<link href='https://i.imgur.com/OBt4Ke6.png' rel='apple-touch-icon-precomposed'/>
<link rel="shortcut icon" href="https://i.imgur.com/YU832RP.png" sizes="16x16">
<meta name="description" content=""/>
<meta name="keywords" content="Slot Dana"/>
<meta name="google" content="notranslate">
<meta name="robots" content="index, follow" />
<meta name="rating" content="general" />
<meta name="geo.region" content="id_ID" />
<meta name="googlebot" content="index,follow">
<meta name="geo.country" content="id" />
<meta name="language" content="id-ID" />
<meta name="distribution" content="global" />
<meta name="geo.placename" content="Indonesia" />
<meta name="author" content="Slot Dana" />
<meta name="publisher" content="Slot Dana" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="id_ID" />
<meta property="og:locale:alternate" content="id_ID"/>
<meta property="og:title" content="Slot Dana"/>
<meta property="og:description" content="Slot Dana"/>
<meta property="og:url" content="https://kipas99-slot.netlify.app/"/>
<meta property="og:site_name" content="Slot Dana" />
<meta property="og:image" content="https://i.imgur.com/YU832RP.png"/>
<meta property="og:image:alt" content="Slot Dana" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="Slot Dana">
<meta name="twitter:creator" content="Slot Dana">
<meta name="twitter:domain" content="https://twitter.com/">
<meta name="twitter:title" content="Slot Dana">
<meta name="twitter:description" content="Slot Dana">
<meta name="twitter:image" content="https://i.imgur.com/YU832RP.png">
<meta property="twitter:image:alt" content="Slot Dana">
<script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "Articles",
                "name": "Slot Dana",
                "author": { "@type": "Person", "name": "Slot Dana" },
                "headline": "Slot Dana",
                "description": "Slot DanaI",
                "keywords": ["Slot Dana"],
                "image": "https://i.imgur.com/YU832RP.png",
                "url": "https://i.imgur.com/YU832RP.png",
                "publisher": { "@type": "Organization", "name": "Slot Dana" },
                "aggregateRating": { "@type": "AggregateRating", "ratingValue": "96", "bestRating": "100", "worstRating": "0", "ratingCount": "2574391" },
                "inLanguage": "id-ID"
            }
</script>
<link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">		
 <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;
-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;
-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;
animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript>
	<style amp-boilerplate>body{-webkit-animation:none;
-moz-animation:none;
-ms-animation:none;
animation:none}</style></noscript>	
<link rel="stylesheet" type="text/css" href="styles.css">
<script async src="https://cdn.ampproject.org/v0.js"></script>
<!-- DIMULAI DISINI -->

<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js';
    import { getFirestore, collection, doc, getDoc, getDocs, addDoc, setDoc } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js';// Firebase config
    
        var firebaseConfig = {
        apiKey: "AIzaSyBE3V28VDRZiDnRmbUMiyeS59qAe0vVsRQ",
        authDomain: "auto-netlify.firebaseapp.com",
        databaseURL: "https://auto-netlify-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "auto-netlify",
        storageBucket: "auto-netlify.appspot.com",
        messagingSenderId: "738942906760",
        appId: "1:738942906760:web:9017d863fbdf48f6ab8a3d",
        measurementId: "G-G6C253B2DQ"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const hostname = window.location.hostname;
    const subdomain = hostname.split('.')[0];
    const keywordFromPath = window.location.pathname.substring(1);

// Fungsi untuk mendapatkan semua kata kunci
async function getAllKeywords() {
    const keywordCollectionRef = collection(db, 'keyword_collections');
    const keywordSnapshot = await getDocs(keywordCollectionRef);
    return keywordSnapshot.docs.map(doc => doc.data().keyword);
}
    // Fungsi untuk mendapatkan semua kata kunci
    async function getRandomKeywordUrl() {
    const keywordCollectionRef = collection(db, 'keyword_collections');
    const keywordSnapshot = await getDocs(keywordCollectionRef);
    const allKeywords = keywordSnapshot.docs.map(doc => doc.data().keyword);
    const randomKeyword = allKeywords[Math.floor(Math.random() * allKeywords.length)];
    const formattedKeyword = randomKeyword.replace(/ /g, '-').toLowerCase();
    return `https://${subdomain}.netlify.app/${formattedKeyword}`;
}

    // Fungsi untuk menampilkan tabel kata kunci
function displayKeywordsTable(keywords) {
let tableHtml = '<table>';
keywords.forEach(keyword => {
const formattedKeyword = keyword.replace(/ /g, '-').toLowerCase();
const fullUrl = `https://${subdomain}.netlify.app/${formattedKeyword}`;  // Modifikasi di sini
tableHtml += `<tr><td><a href="${fullUrl}">${keyword}</a></td></tr>`;
});
tableHtml += '</table>';
document.querySelector('.keywordTable').innerHTML = tableHtml;
}

    // Mengambil kata kunci dan menampilkan tabel
getAllKeywords().then(keywords => {
displayKeywordsTable(keywords);
}).catch(error => {
console.error("Error fetching keywords:", error);
});

    // Fungsi untuk membuat sitemap XML
function generateRandomSitemap() {
return new Promise(async (resolve, reject) => {
const sitemapContent = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${await generateSitemapEntries()}
</urlset>`;
resolve(sitemapContent);
});
}

    // Fungsi untuk menghasilkan entri sitemap secara acak
async function generateSitemapEntries() {
const keywords = await getAllKeywords(); // Ambil kata kunci dari Firebase

// Acak urutan kata kunci
const shuffledKeywords = shuffleArray(keywords);

const domain = window.location.hostname;

return shuffledKeywords.map(keyword => {
const sanitizedKeyword = keyword.replace(/ /g, '-').toLowerCase();
const slug = sanitizedKeyword;
const fullUrl = `https://${domain}/${slug}`;
return `<url>
<loc>${fullUrl}</loc>
<lastmod>${new Date().toISOString().split('T')[0]}</lastmod>
<changefreq>daily</changefreq>
<priority>0.9</priority>
</url>`;
}).join('\n');
}

    // Fungsi untuk mengacak urutan elemen dalam array
function shuffleArray(array) {
const shuffledArray = [...array];
for (let i = shuffledArray.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[shuffledArray[i], shuffledArray[j]] = [shuffledArray[j], shuffledArray[i]];
}
return shuffledArray;
}

    // Panggil fungsi untuk menghasilkan sitemap saat halaman dimuat
const sitemapContent = generateRandomSitemap();
const sitemapContainer = document.createElement('div');
sitemapContainer.style.display = 'none';
sitemapContainer.textContent = sitemapContent;
document.body.appendChild(sitemapContainer);

    // Fungsi untuk menambahkan tautan sitemap ke halaman HTML
async function addSitemapLink() {

// Memasukkan tautan sitemap
const domain = window.location.hostname;
const sitemapLink = document.createElement('a');
const sitemapUrl = `https://${domain}/sitemap.xml`; // Membangun URL sitemap
sitemapLink.href = sitemapUrl;
sitemapLink.title = 'Sitemap';
sitemapLink.innerHTML = '<strong>SITEMAP: PETA SITUS</strong>';

const sitemapLinkContainer = document.getElementById('sitemapLinkContainer');
sitemapLinkContainer.appendChild(sitemapLink);
}

    // Panggil fungsi untuk menambahkan tautan sitemap saat halaman dimuat
    document.addEventListener('DOMContentLoaded', function () {
    addSitemapLink();
    fetchDataAndDisplay().catch(error => {
        console.error('Error fetching data:', error);
    });
});

    // Fungsi untuk mengambil berita berdasarkan kata kunci, melakukan analisis, dan menyimpannya ke Firebase
    async function fetchNewsAndAnalyse(keyword) {
        try {
            // Ganti dengan API pencarian berita yang sesungguhnya dan parameter yang diperlukan
            const apiKey = 'AIzaSyDbAHHH8mkJvCMPBjL0l_HUAkzkN90n3Sk';
            const engineId = '30dfd31d44f5947c1';
            const query = decodeURIComponent(keywordFromPath.replace(/-/g, ' '));
            const url = `https://www.googleapis.com/customsearch/v1?key=${apiKey}&q=${query}&cx=${engineId}&num=7&fields=items(title,link,snippet,pagemap,cacheId,displayLink,formattedUrl,htmlFormattedUrl,htmlSnippet,htmlTitle,kind)`;
            const data = await response.json();
        
        // Analisis data, contohnya bisa berupa penghitungan jumlah hasil, atau analisis sentimen dari snippet, dll.
        const insights = analyseData(data);

        // Tentukan ID dokumen berdasarkan slug kata kunci
        const docId = keyword; // atau format sesuai kebutuhan Anda

        // Buat referensi ke dokumen spesifik di koleksi "search_results"
        const docRef = doc(db, "search_results", docId);

        // Gunakan setDoc untuk menimpa data di lokasi yang ditentukan, atau membuatnya jika belum ada
        await setDoc(docRef, {
            keyword: query, // menyimpan kata kunci dari query sebagai keyword
            results: data.items,
            insights: insights,
            timestamp: new Date().toISOString()
        }, { merge: true }); // opsional: penggabungan dengan dokumen yang ada daripada menimpa

        console.log("Document written with ID: ", docRef.id);
    } catch (error) {
        console.error("Error fetching news:", error);
    }
}

    // Fungsi untuk melakukan analisis pada data yang diambil dari pencarian berita
    function analyseData(data) {
        // Implementasikan logika analisis Anda di sini, contoh sederhana:
        const insights = {
            totalResults: data.items.length,
            // ... metrik analisis lainnya ...
        };
        return insights;
    }

// fetch data
document.addEventListener('DOMContentLoaded', function () {
    addSitemapLink();
    fetchDataAndDisplay().catch(error => {
        console.error('Error fetching data:', error);
    });
});

async function fetchDataAndDisplay() {
    const searchResultsCollection = collection(db, 'search_results');
    const specificDoc = doc(searchResultsCollection, keywordFromPath);  
    const docSnapshot = await getDoc(specificDoc);
    
    if (docSnapshot.exists()) {
        const data = docSnapshot.data();
        let listItems = '';  
        
        for (let result of data.results.items) {
            const { title, formattedUrl, htmlSnippet, description, snippet, canonical_url, pagemap } = result;
            const cse_thumbnail_src = pagemap && pagemap.cse_thumbnail 
                                  ? pagemap.cse_thumbnail[0].src 
                                  : null;

            const randomKeywordUrl = await getRandomKeywordUrl();
            const thumbnailHtml = `
                <p><a href="${randomKeywordUrl}">
                    ${cse_thumbnail_src 
                        ? `<img src="${cse_thumbnail_src}" alt="${title}">` 
                        : '<p>No thumbnail available</p>'}
                </a></p>
            `;

            const listItem = createListItem(title, formattedUrl, htmlSnippet, description, thumbnailHtml);
            listItems += listItem;
        }

        const articleContent = `<ul>${listItems}</ul>`;
        document.getElementById('dynamicArticle').innerHTML = articleContent;
    } else {
        await fetchAndDisplayFromAPI();
    }
}

async function fetchAndDisplayFromAPI() {
    const apiKey = 'AIzaSyDbAHHH8mkJvCMPBjL0l_HUAkzkN90n3Sk';
    const engineId = '30dfd31d44f5947c1';
    const query = decodeURIComponent(keywordFromPath.replace(/-/g, ' '));
    const url = `https://www.googleapis.com/customsearch/v1?key=${apiKey}&q=${query}&cx=${engineId}&num=7&fields=items(title,link,snippet,pagemap,cacheId,displayLink,formattedUrl,htmlFormattedUrl,htmlSnippet,htmlTitle,kind)`;

    try {
        const response = await fetch(url);
        const data = await response.json();
        let listItems = '';  

        for (let result of data.items) {
            const { title, formattedUrl, htmlSnippet, description, snippet, canonical_url, pagemap } = result;
            const cse_thumbnail_src = pagemap && pagemap.cse_thumbnail 
                                  ? pagemap.cse_thumbnail[0].src 
                                  : null;

            const thumbnailHtml = `
                <p><a href="#">
                    ${cse_thumbnail_src 
                        ? `<img src="${cse_thumbnail_src}" alt="${title}">` 
                        : '<p>No thumbnail available</p>'}
                </a></p>
            `;

            const listItem = createListItem(title, formattedUrl, htmlSnippet, description, thumbnailHtml);
            listItems += listItem;
        }

        const articleContent = `<ul>${listItems}</ul>`;
        document.getElementById('dynamicArticle').innerHTML = articleContent;
    } catch (error) {
        console.error('Error fetching from API:', error);
    }
}

// Simpan data ke Firebase
const docId = query; // menggunakan query sebagai ID dokumen
        const docRef = doc(db, "search_results", docId);

        await setDoc(docRef, {
            keyword: query,
            results: data.items, // menyimpan hasil pencarian
            timestamp: new Date().toISOString()
        }, { merge: true }); // menggabungkan dengan dokumen yang ada

        console.log("Document written with ID: ", docRef.id);

function createListItem(title, formattedUrl, htmlSnippet, description, thumbnailHtml) {
    return `
        <li>
            <h3>${title}</h3>
            <p>${formattedUrl}</p>
            <p>${htmlSnippet}</p>
            <p>${description}</p>
            ${thumbnailHtml}
        </li>
    `;
}

document.addEventListener('DOMContentLoaded', async function() {
    async function getAllKeywords() {
    const keywordCollectionRef = collection(db, 'keyword_collections');
    const keywordSnapshot = await getDocs(keywordCollectionRef);
    return keywordSnapshot.docs.map(doc => doc.data().keyword);
}
    // Dapatkan kata kunci acak dari Firebase
    const keywords = await getAllKeywords(); // Asumsi fungsi ini mengambil semua kata kunci sebagai array
    const keyword = keywords[Math.floor(Math.random() * keywords.length)];

    // Cari berita dengan kata kunci, analisis, dan simpan ke Firebase
    await fetchNewsAndAnalyse(keyword);
    
    // Memperoleh hostname dan pathname
    const hostname = window.location.hostname;
    const subdomain = hostname.split('.')[0];
    const pathname = window.location.pathname.slice(1); // Menghilangkan karakter `/` pertama

    function setAttributes(path) {
        const images = document.querySelectorAll('amp-img');  // Memilih semua elemen amp-img
        const metaTags = document.querySelectorAll('meta');
        if (path) {
            const formattedKeyword = path.replace(/-/g, ' ');
            images.forEach(image => {
                image.setAttribute('alt', `Gambar untuk ${formattedKeyword}`);
                image.setAttribute('title', `Gambar mengenai ${formattedKeyword}`);
            });
            metaTags.forEach(meta => {
                meta.setAttribute('content', `info ${formattedKeyword}`);
            });
        }
    }

    // Panggil fungsinya saat konten telah dimuat
    setAttributes(pathname);
});
</script>

</head>

<body class="single is-preload">
    <div class="navbar">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="logocil">
                        <a href="/" target="_blank">
                      <amp-img  width="123px" height="60px" src="https://i.imgur.com/YU832RP.png" alt=""></amp-img></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clear"></div>
    <div class="space"></div>
    <div class="content">
        <div class="container">
            <div class="row mt-3">
                <div class="col-md-4">
                    <div class="logo text-center">
                      <a href="/" target="_blank">
                        <amp-img  width="170px" height="83px" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgTS4yGmDV5fo4urzmG1y0enCU7HobSdZ74fXKFVTZLfkaiClwc_eZJEPZzP9e8PcZnjd0rWqHwQFmjRQxUbRIvzTGTz7Hf1bT3fAZsAVxRumyaDT_JWDrUPP4mwlPnCoSzf2iTYqHL_QncLJ7cJ4CRgfNYuJh2fY5vs8onZ1zykJ8lm7Ka5YGpE5-6-br4/s320-rw/SLOT%20GACOR%20TERBAIK%20(3).gif" alt=""></amp-img></a>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="row logform">
                        <div class="col-xs-6">						
                        </div>				
                    </div>
                </div>
            </div>		
            <div class="row my-2">
                <div class="col-md-12 mb-1">
                    <div class="slide mt-2">
                       <a href="/" target="_blank">
                        <amp-img  src="https://i.imgur.com/OBt4Ke6.png" alt="" title="" width="1200px" height="400px" layout="responsive"></amp-img></a>
                    </div>
                </div>
            </div>
        </div>	
    </div>
    <div class="bottom bg-dark">
        <div class="container">
            <div class="row p-0" style="background-color: #020202;">
                <div class="col-md-6 pt-3 p-0 text-center">
                    <div class="row">
                    </div>	
                </div>
            </div>
            <div class="row mb-3 mt-5" style="background-color: #020202;">
                <div class="col-md-12 pb-5 text-center">
                    <div class="word">
                    <h1>Slot Dana</h1>
    <h2></h2 >      
    <p>
    <ul class='actions'>
    <li class='button big'>  <a href="http://bidr.trellian.com/r.php?u=https://doraemonbelajar2023.blogspot.com/">dana slot77        </a></li>
    </p></ul>
            <div id="dynamicArticle"></div>
            <div class="keywordTable"></div>

// ini bawaaan dari template blogtips
<div class="container">
    <div class="footer text-center pb-2">
      <span>&copy;Copyright <a href="https://doraemonbelajar2023.blogspot.com/">Slot Dana</a>
      </p>">Kursus Slot Dana</a>. All Rights Reserved | Template by: <a href="https://doraemonbelajar2023.blogspot.com/" rel="dofollow" target="_blank">Kipas99</a></span>
      <span><a href="https://yangsangatgacor.netlify.app/sitemap.xml">Site Map</a></span>
    </div>

</body>

<footer>
    <div id="sitemapLinkContainer">
        <a href="/sitemap.xml" title="Sitemap" target="_blank">Sitemap</a>
    </div>
</footer>
</html>